<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="../_static/favicon.ico">
    <title>贡献 - GINO 1.0.0rc2 文档</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async
            src="https://www.googletagmanager.com/gtag/js?id=UA-3759436-10"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag () {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-3759436-10');
    </script>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css">
    <link type="text/css" rel="stylesheet"
          href="../_static/css/materialize.min.css"
          media="screen,projection"/>
    <link rel="stylesheet" href="../_static/pygments.css"
          type="text/css"/>
    <link type="text/css" rel="stylesheet"
          href="../_static/css/gino.css"/>
</head>
<body>

<header>
    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper">
                <a href="../index.html" class="brand-logo">
                    <div class="img"
                         style="background-image: url(../_static/logo.png); width: 40px; height: 40px; margin-right: 8px"></div>
                    <div class="img"
                         style="background-image: url(../_static/logo-name.png); width: 100px; height: 32.5px; margin-top: 4px"></div>
                </a>
                <div class="breadcrumbs">
                    <a class="breadcrumb" style="display: none"></a>
                    
                        <a href="../how-to.html"
                           class="breadcrumb">进阶用法</a>
                    
                    
                        <a class="breadcrumb" style="color: #FFFFFF">贡献</a>
                    
                </div>
                <div class="spacer"></div>
                <div class="search">
                    <input type="text" id="search" placeholder="Search">
                    <i class="mdi mdi-magnify"></i>
                </div>
                <a class="waves-effect waves-light btn-flat theme-dark" href="/">
                    <i class="mdi mdi-home"></i>
                    Home
                </a>
                <a class="waves-effect waves-light btn-flat theme-dark"
                   href="/authors.html">
                    <i class="mdi mdi-account-group"></i>
                    Authors
                </a>
                <a href="https://github.com/python-gino/gino" target="_blank"
                   class="github">
                    <i class="mdi mdi-github-circle"></i>
                </a>
            </div>
        </nav>
    </div>

    <div id="sidenav" class="sidenav sidenav-fixed">
        <p class="caption"><span class="caption-text">上手教程</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">上手教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial.html">上手教程</a></li>
</ul>
<p class="caption"><span class="caption-text">进阶用法</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../how-to.html">进阶用法</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="crud.html">CRUD</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="loaders.html">Loaders and Relationship</a></li>
<li class="toctree-l1"><a class="reference internal" href="pool.html">Connection Pool</a></li>
<li class="toctree-l1"><a class="reference internal" href="sanic.html">Sanic Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema.html">Schema Declaration</a></li>
<li class="toctree-l1"><a class="reference internal" href="starlette.html">Starlette Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="tornado.html">Tornado Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="transaction.html">Transaction</a></li>
</ul>
<p class="caption"><span class="caption-text">原理说明</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../explanation.html">原理说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/engine.html">Engine and Connection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/why.html">Why Asynchronous ORM?</a></li>
</ul>
<p class="caption"><span class="caption-text">参考手册</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/api.html">API 参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/authors.html">制作人员</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/history.html">History</a></li>
</ul>

    </div>
</header>

<main>
    <div class="row">
        <div class="col s12 m9 body">
            
    <div class="section" id="contributing">
<h1>贡献<a class="headerlink" href="#contributing" title="永久链接至标题">¶</a></h1>
<p>Contributions are welcome, and they are greatly appreciated! Every
little bit helps, and credit will always be given.</p>
<p>您可以通过多种方式做出贡献:</p>
<div class="section" id="types-of-contributions">
<h2>Types of Contributions<a class="headerlink" href="#types-of-contributions" title="永久链接至标题">¶</a></h2>
<div class="section" id="report-bugs">
<h3>报告错误<a class="headerlink" href="#report-bugs" title="永久链接至标题">¶</a></h3>
<p>Report bugs at <a class="reference external" href="https://github.com/fantix/gino/issues">https://github.com/fantix/gino/issues</a>.</p>
<p>如果您要报告错误，请包括：</p>
<ul class="simple">
<li><p>您的操作系统名称和版本。</p></li>
<li><p>有关本地设置的任何详细信息都可能有助于排除故障。</p></li>
<li><p>重现错误的详细步骤。</p></li>
</ul>
</div>
<div class="section" id="fix-bugs">
<h3>修复错误<a class="headerlink" href="#fix-bugs" title="永久链接至标题">¶</a></h3>
<p>在GitHub issues 查找错误。任何人都可以将标记为“bug”和“help wanted”并且是打开状态的问题修复。</p>
</div>
<div class="section" id="implement-features">
<h3>实现功能<a class="headerlink" href="#implement-features" title="永久链接至标题">¶</a></h3>
<p>在GitHub issues 查找功能。任何人都可以将标记为“增强”和“需要帮助”的打开状态的需求实现。</p>
</div>
<div class="section" id="write-documentation">
<h3>写文档<a class="headerlink" href="#write-documentation" title="永久链接至标题">¶</a></h3>
<p>GINO需要更多的使用文档，无论是作为官方GINO文档的一部分，还是文档字符串，甚至是博客，文章等等。</p>
</div>
<div class="section" id="submit-feedback">
<h3>提交反馈<a class="headerlink" href="#submit-feedback" title="永久链接至标题">¶</a></h3>
<p>发送反馈的最佳方式是在https://github.com/fantix/gino/issues提交问题。</p>
<p>如果您要提出一项功能：</p>
<ul class="simple">
<li><p>详细解释它是如何工作的。</p></li>
<li><p>为了更容易实现，请保持范围尽可能窄。</p></li>
<li><p>Remember that this is a volunteer-driven project, and that contributions
are welcome :)</p></li>
</ul>
</div>
</div>
<div class="section" id="get-started">
<h2>Get Started!<a class="headerlink" href="#get-started" title="永久链接至标题">¶</a></h2>
<p>Ready to contribute? Here's how to set up <cite>gino</cite> for local development.</p>
<ol class="arabic">
<li><p>Fork the <cite>gino</cite> repo on GitHub.</p></li>
<li><p>Clone your fork locally:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone git@github.com:your_name_here/gino.git
</pre></div>
</div>
</li>
<li><p>Create a branch for local development:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> gino/
<span class="gp">$</span> git checkout -b name-of-your-bugfix-or-feature
</pre></div>
</div>
</li>
</ol>
<p>Now you can make your changes locally.</p>
<ol class="arabic" start="4">
<li><p>Create virtual environment. Example for virtualenvwrapper:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> mkvirtualenv gino
</pre></div>
</div>
</li>
<li><p>Activate the environment and install requirements:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install -r requirements_dev.txt
</pre></div>
</div>
</li>
<li><p>When you're done making changes, check that your changes pass syntax checks:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> flake8 gino tests
</pre></div>
</div>
</li>
</ol>
<p>7. And tests (including other Python versions with tox).
For tests you you will need running database server (see &quot;Tips&quot; section below for configuration details):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pytest tests
<span class="gp">$</span> tox
</pre></div>
</div>
<ol class="arabic" start="8">
<li><p>For docs run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> make docs
</pre></div>
</div>
</li>
</ol>
<p>It will build and open up docs in your browser.</p>
<ol class="arabic" start="9">
<li><p>Commit your changes and push your branch to GitHub:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git add .
<span class="gp">$</span> git commit -m <span class="s2">&quot;Your detailed description of your changes.&quot;</span>
<span class="gp">$</span> git push origin name-of-your-bugfix-or-feature
</pre></div>
</div>
</li>
<li><p>Submit a pull request through the GitHub website.</p></li>
</ol>
</div>
<div class="section" id="pull-request-guidelines">
<h2>Pull Request Guidelines<a class="headerlink" href="#pull-request-guidelines" title="永久链接至标题">¶</a></h2>
<p>Before you submit a pull request, check that it meets these guidelines:</p>
<ol class="arabic simple">
<li><p>The pull request should include tests.</p></li>
<li><p>If the pull request adds functionality, the docs should be updated. Put
your new functionality into a function with a docstring, and add the
feature to the list in README.rst.</p></li>
<li><p>The pull request should work for Python 3.6. Check
<a class="reference external" href="https://travis-ci.org/fantix/gino/pull_requests">https://travis-ci.org/fantix/gino/pull_requests</a>
and make sure that the tests pass for all supported Python versions.</p></li>
</ol>
</div>
<div class="section" id="tips">
<h2>Tips<a class="headerlink" href="#tips" title="永久链接至标题">¶</a></h2>
<p>To run a subset of tests:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> py.test -svx tests.test_gino
</pre></div>
</div>
<p>By default the tests run against a default installed postgres database. If you
wish to run against a separate database for the tests you can do this by first
creating a new database and user using 'psql' or similar:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">CREATE ROLE gino WITH LOGIN ENCRYPTED PASSWORD &#39;gino&#39;;</span>
<span class="go">CREATE DATABASE gino WITH OWNER = gino;</span>
</pre></div>
</div>
<p>Then run the tests like so:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">export</span> <span class="nv">DB_USER</span><span class="o">=</span>gino <span class="nv">DB_PASS</span><span class="o">=</span>gino <span class="nv">DB_NAME</span><span class="o">=</span>gino
<span class="gp">$</span> py.test
</pre></div>
</div>
<p>Here is an example for db server in docker. Some tests require ssl so you will need to run postgres with ssl enabled.
Terminal 1 (server):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> openssl req -new -text -passout pass:abcd -subj /CN<span class="o">=</span>localhost -out server.req -keyout privkey.pem
<span class="gp">$</span> openssl rsa -in privkey.pem -passin pass:abcd -out server.key
<span class="gp">$</span> openssl req -x509 -in server.req -text -key server.key -out server.crt
<span class="gp">$</span> chmod <span class="m">600</span> server.key
<span class="gp">$</span> docker run --name gino_db --rm -it -p <span class="m">5433</span>:5432 -v <span class="s2">&quot;</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/server.crt:/var/lib/postgresql/server.crt:ro&quot;</span> -v <span class="s2">&quot;</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/server.key:/var/lib/postgresql/server.key:ro&quot;</span> postgres:12-alpine -c <span class="nv">ssl</span><span class="o">=</span>on -c <span class="nv">ssl_cert_file</span><span class="o">=</span>/var/lib/postgresql/server.crt -c <span class="nv">ssl_key_file</span><span class="o">=</span>/var/lib/postgresql/server.key
</pre></div>
</div>
<p>Terminal 2 (client):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">export</span> <span class="nv">DB_USER</span><span class="o">=</span>gino <span class="nv">DB_PASS</span><span class="o">=</span>gino <span class="nv">DB_NAME</span><span class="o">=</span>gino <span class="nv">DB_PORT</span><span class="o">=</span><span class="m">5433</span>
<span class="gp">$</span> docker <span class="nb">exec</span> gino_db psql -U postgres -c <span class="s2">&quot;CREATE ROLE </span><span class="nv">$DB_USER</span><span class="s2"> WITH LOGIN ENCRYPTED PASSWORD &#39;</span><span class="nv">$DB_PASS</span><span class="s2">&#39;&quot;</span>
<span class="gp">$</span> docker <span class="nb">exec</span> gino_db psql -U postgres -c <span class="s2">&quot;CREATE DATABASE </span><span class="nv">$DB_NAME</span><span class="s2"> WITH OWNER = </span><span class="nv">$DB_USER</span><span class="s2">;&quot;</span>
<span class="gp">$</span> pytest tests/test_aiohttp.py
</pre></div>
</div>
</div>
</div>


        </div>

        <div class="col hide-on-small-only m3 right-nav">
            <div class="table-of-contents fixed">
                
                    <ul>
<li><a class="reference internal" href="#">贡献</a><ul>
<li><a class="reference internal" href="#types-of-contributions">Types of Contributions</a><ul>
<li><a class="reference internal" href="#report-bugs">报告错误</a></li>
<li><a class="reference internal" href="#fix-bugs">修复错误</a></li>
<li><a class="reference internal" href="#implement-features">实现功能</a></li>
<li><a class="reference internal" href="#write-documentation">写文档</a></li>
<li><a class="reference internal" href="#submit-feedback">提交反馈</a></li>
</ul>
</li>
<li><a class="reference internal" href="#get-started">Get Started!</a></li>
<li><a class="reference internal" href="#pull-request-guidelines">Pull Request Guidelines</a></li>
<li><a class="reference internal" href="#tips">Tips</a></li>
</ul>
</li>
</ul>

                
            </div>
        </div>

    </div>
    <div class="fixed-action-btn click-to-toggle">
        <a class="btn-floating btn-large blue">
            <i class="mdi mdi-translate"></i>
        </a>
        <ul>
            <li><a href="/docs/en/v1.0.0rc2" class="btn-floating blue">EN</a></li>
            <li><a href="/docs/zh/v1.0.0rc2" class="btn-floating red">ZH</a></li>
        </ul>
    </div>
</main>

<script type="text/javascript"
        src="../_static/js/materialize.min.js"></script>
<script type="text/javascript"
        src="../_static/js/gino.js"></script>
</body>
</html>