<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="../_static/favicon.ico">
    <title>Frequently Asked Questions - GINO 1.0.0rc2 文档</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async
            src="https://www.googletagmanager.com/gtag/js?id=UA-3759436-10"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag () {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-3759436-10');
    </script>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css">
    <link type="text/css" rel="stylesheet"
          href="../_static/css/materialize.min.css"
          media="screen,projection"/>
    <link rel="stylesheet" href="../_static/pygments.css"
          type="text/css"/>
    <link type="text/css" rel="stylesheet"
          href="../_static/css/gino.css"/>
</head>
<body>

<header>
    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper">
                <a href="../index.html" class="brand-logo">
                    <div class="img"
                         style="background-image: url(../_static/logo.png); width: 40px; height: 40px; margin-right: 8px"></div>
                    <div class="img"
                         style="background-image: url(../_static/logo-name.png); width: 100px; height: 32.5px; margin-top: 4px"></div>
                </a>
                <div class="breadcrumbs">
                    <a class="breadcrumb" style="display: none"></a>
                    
                        <a href="../how-to.html"
                           class="breadcrumb">进阶用法</a>
                    
                    
                        <a class="breadcrumb" style="color: #FFFFFF">Frequently Asked Questions</a>
                    
                </div>
                <div class="spacer"></div>
                <div class="search">
                    <input type="text" id="search" placeholder="Search">
                    <i class="mdi mdi-magnify"></i>
                </div>
                <a class="waves-effect waves-light btn-flat theme-dark" href="/">
                    <i class="mdi mdi-home"></i>
                    Home
                </a>
                <a class="waves-effect waves-light btn-flat theme-dark"
                   href="/authors.html">
                    <i class="mdi mdi-account-group"></i>
                    Authors
                </a>
                <a href="https://github.com/python-gino/gino" target="_blank"
                   class="github">
                    <i class="mdi mdi-github-circle"></i>
                </a>
            </div>
        </nav>
    </div>

    <div id="sidenav" class="sidenav sidenav-fixed">
        <p class="caption"><span class="caption-text">上手教程</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">上手教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial.html">上手教程</a></li>
</ul>
<p class="caption"><span class="caption-text">进阶用法</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../how-to.html">进阶用法</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="crud.html">CRUD</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="loaders.html">Loaders and Relationship</a></li>
<li class="toctree-l1"><a class="reference internal" href="pool.html">Connection Pool</a></li>
<li class="toctree-l1"><a class="reference internal" href="sanic.html">Sanic Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema.html">Schema Declaration</a></li>
<li class="toctree-l1"><a class="reference internal" href="starlette.html">Starlette Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="tornado.html">Tornado Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="transaction.html">Transaction</a></li>
</ul>
<p class="caption"><span class="caption-text">原理说明</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../explanation.html">原理说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/engine.html">Engine and Connection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/why.html">Why Asynchronous ORM?</a></li>
</ul>
<p class="caption"><span class="caption-text">参考手册</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/api.html">API 参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/authors.html">制作人员</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/history.html">History</a></li>
</ul>

    </div>
</header>

<main>
    <div class="row">
        <div class="col s12 m9 body">
            
    <div class="section" id="frequently-asked-questions">
<h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="永久链接至标题">¶</a></h1>
<div class="section" id="orm-or-not-orm">
<h2>ORM or not ORM?<a class="headerlink" href="#orm-or-not-orm" title="永久链接至标题">¶</a></h2>
<p>GINO does perform the Object-Relational Mapping work under the
<a class="reference external" href="https://en.wikipedia.org/wiki/Data_mapper_pattern">Data Mapper Pattern</a>, but
it is just not a traditional ORM. The Objects in GINO are completely stateless
from database - they are pure plain Python objects in memory. Changing their
attribute values does not make them &quot;dirty&quot; - or in a different way of thinking
they are always &quot;dirty&quot;. Any access to database must be explicitly executed.
Using GINO is more like making up SQL clauses with Models and Objects,
executing them to make changes in database, or loading data from database and
wrapping the results with Objects again. Objects are just row data containers,
you are still dealing with SQL which is represented by Models and SQLAlchemy
core grammars. Besides GINO can be used in a completely non-ORM way.</p>
</div>
<div class="section" id="how-to-join">
<h2>How to join?<a class="headerlink" href="#how-to-join" title="永久链接至标题">¶</a></h2>
<p>GINO invented none about making up queries, everything for that is inherited
from SQLAlchemy. Therefore you just need to know <a class="reference external" href="https://docs.sqlalchemy.org/en/latest/core/tutorial.html#using-joins">how to write join in
SQLAlchemy</a>.
Especially, <a class="reference external" href="https://github.com/brncsk">Ádám</a> made some amazing upgrades in
GINO <a class="reference external" href="https://github.com/fantix/gino/pull/113">#113</a> to make join easier, so
that you can use model classes directly as if they are tables in joining:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">User</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">Book</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">gino</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="how-to-connect-to-database-through-ssl">
<h2>How to connect to database through SSL?<a class="headerlink" href="#how-to-connect-to-database-through-ssl" title="永久链接至标题">¶</a></h2>
<p>It depends on the dialect and database driver. For asyncpg, keyword arguments
on <a class="reference external" href="https://magicstack.github.io/asyncpg/current/api/index.html#asyncpg.connection.connect" title="(在 asyncpg v0.20.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncpg.connect()</span></code></a> are directly
available on <a class="reference internal" href="../reference/api/gino.html#gino.create_engine" title="gino.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a> or <a class="reference internal" href="../reference/api/gino.api.html#gino.api.Gino.set_bind" title="gino.api.Gino.set_bind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">db.set_bind()</span></code></a>. Therefore, enabling SSL is rather easy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gino</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">ssl</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="what-is-aiocontextvars-and-what-does-it-do">
<h2>What is aiocontextvars and what does it do?<a class="headerlink" href="#what-is-aiocontextvars-and-what-does-it-do" title="永久链接至标题">¶</a></h2>
<p>It is a partial backport of the new built-in module <a class="reference external" href="https://docs.python.org/3.7/library/contextvars.html">contextvars</a> introduced in Python
3.7. In Python 3.5 and 3.6, <code class="docutils literal notranslate"><span class="pre">aiocontextvars</span></code> patches <code class="docutils literal notranslate"><span class="pre">loop.create_task()</span></code>
to copy context from caller as a workaround to simulate the same behavior. This
is also under discussion in upstream backport project, please read more here:
<a class="reference external" href="https://github.com/MagicStack/contextvars/issues/2">https://github.com/MagicStack/contextvars/issues/2</a></p>
<p>If you are using Python 3.7, then <code class="docutils literal notranslate"><span class="pre">aiocontextvars</span></code> does nothing at all.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>This answer is for GINO 0.8 and later, please check earlier versions of
this documentation if you are using GINO 0.7.</p>
</div>
</div>
</div>


        </div>

        <div class="col hide-on-small-only m3 right-nav">
            <div class="table-of-contents fixed">
                
                    <ul>
<li><a class="reference internal" href="#">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#orm-or-not-orm">ORM or not ORM?</a></li>
<li><a class="reference internal" href="#how-to-join">How to join?</a></li>
<li><a class="reference internal" href="#how-to-connect-to-database-through-ssl">How to connect to database through SSL?</a></li>
<li><a class="reference internal" href="#what-is-aiocontextvars-and-what-does-it-do">What is aiocontextvars and what does it do?</a></li>
</ul>
</li>
</ul>

                
            </div>
        </div>

    </div>
    <div class="fixed-action-btn click-to-toggle">
        <a class="btn-floating btn-large blue">
            <i class="mdi mdi-translate"></i>
        </a>
        <ul>
            <li><a href="/docs/en/master" class="btn-floating blue">EN</a></li>
            <li><a href="/docs/zh/master" class="btn-floating red">ZH</a></li>
        </ul>
    </div>
</main>

<script type="text/javascript"
        src="../_static/js/materialize.min.js"></script>
<script type="text/javascript"
        src="../_static/js/gino.js"></script>
</body>
</html>